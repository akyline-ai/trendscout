TrendScout AI - Project Structure
===================================

ğŸ“ Root
â”œâ”€â”€ ğŸ“„ README.md                 # Main documentation
â”œâ”€â”€ ğŸ“„ DEPLOYMENT.md             # Deployment guide
â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md           # System architecture
â”œâ”€â”€ ğŸ“„ CHECKLIST.md              # Deployment checklist
â”œâ”€â”€ ğŸ“„ MIGRATION_SUMMARY.md      # Migration docs
â”œâ”€â”€ ğŸ”§ test-services.sh          # Health check script
â”œâ”€â”€ ğŸš« .gitignore                # Git ignore patterns
â”‚
â”œâ”€â”€ ğŸ¨ client/                   # Frontend (Cloudflare Pages)
â”‚   â”œâ”€â”€ ğŸ“„ README.md
â”‚   â”œâ”€â”€ ğŸ“„ package.json          # Dependencies
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.ts        # Vite config
â”‚   â”œâ”€â”€ ğŸ“„ wrangler.toml         # Cloudflare config
â”‚   â”œâ”€â”€ ğŸ”’ .env.example
â”‚   â””â”€â”€ ğŸ“ src/
â”‚       â”œâ”€â”€ ğŸ“ pages/            # React pages (7 pages)
â”‚       â”œâ”€â”€ ğŸ“ components/       # UI components (shadcn/ui)
â”‚       â”œâ”€â”€ ğŸ“ hooks/            # Custom React hooks
â”‚       â”œâ”€â”€ ğŸ“ services/         # API client
â”‚       â””â”€â”€ ğŸ“ types/            # TypeScript types
â”‚
â”œâ”€â”€ ğŸ”§ server/                   # Backend API (Render.com)
â”‚   â”œâ”€â”€ ğŸ“„ README.md
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt      # Python dependencies (13 packages)
â”‚   â”œâ”€â”€ ğŸ“„ Procfile              # Render config
â”‚   â”œâ”€â”€ ğŸ“„ render.yaml           # Render settings
â”‚   â”œâ”€â”€ ğŸ”’ .env.example
â”‚   â””â”€â”€ ğŸ“ app/
â”‚       â”œâ”€â”€ ğŸ“„ main.py           # FastAPI app
â”‚       â”œâ”€â”€ ğŸ“ api/              # API endpoints
â”‚       â”‚   â”œâ”€â”€ trends.py        # Trends API
â”‚       â”‚   â”œâ”€â”€ profiles.py      # Profiles API
â”‚       â”‚   â””â”€â”€ competitors.py   # Competitors API
â”‚       â”œâ”€â”€ ğŸ“ services/         # Business logic
â”‚       â”‚   â”œâ”€â”€ collector.py     # Apify data collection
â”‚       â”‚   â”œâ”€â”€ scorer.py        # UTS scoring
â”‚       â”‚   â”œâ”€â”€ clustering.py    # Visual clustering
â”‚       â”‚   â”œâ”€â”€ scheduler.py     # Auto-rescan
â”‚       â”‚   â”œâ”€â”€ filter.py        # Data filtering
â”‚       â”‚   â”œâ”€â”€ adapter.py       # Data transformation
â”‚       â”‚   â””â”€â”€ ml_client.py     # âœ¨ ML Service client (NEW!)
â”‚       â”œâ”€â”€ ğŸ“ db/               # Database
â”‚       â”‚   â””â”€â”€ models.py        # SQLAlchemy models
â”‚       â””â”€â”€ ğŸ“ core/             # Configuration
â”‚           â”œâ”€â”€ config.py        # Settings
â”‚           â””â”€â”€ database.py      # DB connection
â”‚
â””â”€â”€ ğŸ¤– ml-service/               # ML Service (Railway.app) âœ¨ NEW!
    â”œâ”€â”€ ğŸ“„ README.md
    â”œâ”€â”€ ğŸ“„ requirements.txt      # ML dependencies (11 packages)
    â”œâ”€â”€ ğŸ“„ Procfile              # Railway config
    â”œâ”€â”€ ğŸ“„ railway.json          # Railway settings
    â”œâ”€â”€ ğŸ”’ .env.example
    â””â”€â”€ ğŸ“ app/
        â”œâ”€â”€ ğŸ“„ main.py           # FastAPI ML app
        â””â”€â”€ ğŸ“ services/
            â”œâ”€â”€ clip_service.py  # CLIP embeddings
            â””â”€â”€ ai_service.py    # Anthropic Claude

Services Communication
======================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â”‚   (User)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTPS
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloudflare â”‚  Frontend (client/)
â”‚   Pages     â”‚  React + TypeScript
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  Port: 443
       â”‚ REST API
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Render    â”‚â”€â”€â”€â”€â–ºâ”‚   Railway    â”‚
â”‚   Backend   â”‚     â”‚  ML Service  â”‚
â”‚   (server/) â”‚     â”‚(ml-service/) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ SQL         PyTorch + CLIP
       â–¼             Anthropic Claude
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Port: 8001
â”‚  Supabase   â”‚
â”‚ PostgreSQL  â”‚
â”‚  + pgvector â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Features
============

âœ… Deep Scan - 6-layer UTS scoring
âœ… Visual Clustering - CLIP embeddings
âœ… Auto Rescan - Background scheduling
âœ… AI Scripts - Claude generation
âœ… Competitor Tracking
âœ… Real-time Search - DB caching

Tech Stack
==========

Frontend:
- Vite 7
- React 19 + TypeScript
- Tailwind CSS + shadcn/ui
- React Router 7

Backend:
- FastAPI
- PostgreSQL + pgvector
- SQLAlchemy
- Apify (TikTok scraping)
- APScheduler

ML Service:
- PyTorch + Transformers
- CLIP (OpenAI vit-base-patch32)
- Anthropic Claude 3.5 Haiku
- scikit-learn

Deployment Platforms
====================

- Frontend: Cloudflare Pages (Free)
- Backend: Render.com ($7/month)
- ML Service: Railway.app ($5/month)
- Database: Supabase (Free)

Total: ~$12/month (production)

Documentation Files
===================

ğŸ“„ README.md            - Project overview & quick start
ğŸ“„ DEPLOYMENT.md        - Full deployment guide (200+ lines)
ğŸ“„ ARCHITECTURE.md      - System architecture (400+ lines)
ğŸ“„ CHECKLIST.md         - Deployment checklist (300+ lines)
ğŸ“„ MIGRATION_SUMMARY.md - Migration documentation
ğŸ”§ test-services.sh     - Health check script

ğŸ“„ client/README.md     - Frontend documentation
ğŸ“„ server/README.md     - Backend documentation
ğŸ“„ ml-service/README.md - ML Service documentation

Quick Start Commands
====================

# 1. ML Service
cd ml-service
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
python -m app.main  # Port 8001

# 2. Backend
cd server
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt
python -m app.main  # Port 8000

# 3. Frontend
cd client
npm install && npm run dev  # Port 5173

# 4. Health Check
./test-services.sh

API Endpoints
=============

ML Service (8001):
- GET  /                          Health check
- POST /embeddings/text           Text â†’ vector (512d)
- POST /embeddings/image          Image â†’ vector (512d)
- POST /embeddings/batch-images   Batch processing
- POST /ai/trend-summary          AI summary

Backend (8000):
- GET  /                          Health check
- POST /api/trends/search         Search trends
- GET  /api/trends/results        Get cached results
- GET  /api/profiles/{username}   Profile analysis
- GET  /api/profiles/{username}/spy  Spy mode

Environment Variables
=====================

ml-service/.env:
- ANTHROPIC_API_KEY
- PORT=8001

server/.env:
- DATABASE_URL
- APIFY_API_TOKEN
- ML_SERVICE_URL
- SECRET_KEY

client/.env:
- VITE_API_URL

Production URLs
===============

Frontend:  https://your-app.pages.dev
Backend:   https://your-backend.onrender.com
ML Service: https://your-ml.railway.app
Database:  postgresql://...

Status: âœ… READY FOR DEPLOYMENT
Version: 1.0.0
Last Updated: 2026-01-20
